<div class="container-fluid vh-100 d-flex align-items-center justify-content-center" style="background-color: #f5f7fa;">
    <div class="row w-100 align-items-center justify-content-center">
        <div class="col-md-6">
            <div class="card p-5 shadow-lg" style="border-radius: 15px;">
                <h2 class="text-center mb-4">Crea tu Cuenta</h2>
                <p class="text-center text-muted mb-4">
                    Únete a nuestra plataforma y disfruta de beneficios exclusivos.
                </p>

                <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
                    <div class="row mb-4">
                        <div class="col-md-6 form-floating">
                            <input id="firstName" type="text" formControlName="firstName" class="form-control"
                                placeholder="Nombre"
                                [ngClass]="{ 'is-invalid': (f['firstName'].invalid && f['firstName'].touched) || submitted }"
                                required>
                            <label for="firstName">Nombre</label>
                            <div *ngIf="(f['firstName'].invalid && f['firstName'].touched) || submitted"
                                class="invalid-feedback">
                                El nombre es requerido y debe tener al menos 4 caracteres.
                            </div>
                        </div>

                        <div class="col-md-6 form-floating">
                            <input id="lastName" type="text" formControlName="lastName" class="form-control"
                                placeholder="Apellido"
                                [ngClass]="{ 'is-invalid': (f['lastName'].invalid && f['lastName'].touched) || submitted }"
                                required>
                            <label for="lastName">Apellido</label>
                            <div *ngIf="(f['lastName'].invalid && f['lastName'].touched) || submitted"
                                class="invalid-feedback">
                                El apellido es requerido y debe tener al menos 4 caracteres.
                            </div>
                        </div>
                    </div>

                    <div class="form-floating mb-5">
                        <input id="email" type="email" formControlName="email" class="form-control"
                            placeholder="Correo Electrónico"
                            [ngClass]="{ 'is-invalid': (f['email'].invalid && f['email'].touched) || submitted }"
                            required>
                        <label for="email">Correo Electrónico</label>
                        <div *ngIf="(f['email'].invalid && f['email'].touched) || submitted" class="invalid-feedback">
                            Por favor, ingresa un correo válido.
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="input-group">
                                <div class="form-floating flex-grow-1">
                                    <input [type]="passwordVisible ? 'text' : 'password'" id="password"
                                        formControlName="password" class="form-control" placeholder="Contraseña"
                                        [ngClass]="{ 'is-invalid': (f['password'].touched && f['password'].invalid) || submitted }"
                                        required>
                                    <label for="password">Contraseña</label>
                                </div>
                                <button type="button" class="btn btn-outline-secondary"
                                    (click)="togglePasswordVisibility()">
                                    <i [class]="passwordVisible ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
                                </button>
                            </div>
                            <div *ngIf="(f['password'].touched && f['password'].invalid) || submitted"
                                class="invalid-feedback d-block">
                                La contraseña debe tener al menos 8 caracteres, un número y un carácter especial.
                            </div>
                        </div>

                        <div class="col-md-6 form-floating">
                            <input type="password" id="confirmPassword" formControlName="confirmPassword"
                                class="form-control" placeholder="Confirmar Contraseña"
                                [ngClass]="{ 'is-invalid': (f['confirmPassword'].touched && f['confirmPassword'].invalid) || submitted }"
                                required>
                            <label for="confirmPassword">Confirmar Contraseña</label>
                            <div *ngIf="(f['confirmPassword'].invalid && f['confirmPassword'].touched) || submitted"
                                class="invalid-feedback">
                                Las contraseñas no coinciden.
                            </div>
                        </div>
                    </div>

                    <div class="form-floating mb-4">
                        <input id="phone" type="text" formControlName="phone" class="form-control"
                            placeholder="Teléfono"
                            [ngClass]="{ 'is-invalid': (f['phone'].invalid && f['phone'].touched) || submitted }"
                            required>
                        <label for="phone">Teléfono</label>
                        <div *ngIf="(f['phone'].invalid && f['phone'].touched) || submitted" class="invalid-feedback">
                            Por favor, ingresa un número de teléfono válido (10 dígitos).
                        </div>
                    </div>

                    <button type="submit" class="btn btn-success w-100 mt-4" [disabled]="registerForm.invalid">
                        Crear Cuenta
                    </button>

                    <p class="text-center mt-3">
                        ¿Ya tienes una cuenta? <a routerLink="/login" class="text-decoration-none">Iniciar sesión</a>
                    </p>
                </form>
            </div>
        </div>

        <div class="col-md-6 d-none d-md-block">
            <img src="/undraw_mobile_payments_re_7udl.svg" alt="Ilustración" class="img-fluid">
        </div>
    </div>
</div>

<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css"
    rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">