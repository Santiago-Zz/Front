import{a as k}from"./chunk-YBBVXVAR.js";import{p as I}from"./chunk-K76AGWZU.js";import{l as v,n as E,o as w}from"./chunk-Q5ELIKLH.js";import{Ab as c,Hb as P,Lb as m,Mb as s,Na as f,Ra as a,Sa as h,da as C,eb as S,ib as x,ma as g,mb as t,na as b,nb as e,ob as o,rb as O,vb as y,wb as _,xb as M,zb as i}from"./chunk-PUIGTLMT.js";function T(d,r){if(d&1){let n=O();t(0,"tr")(1,"td",10),o(2,"img",11),t(3,"span",12),i(4),e()(),t(5,"td"),i(6),m(7,"currency"),e(),t(8,"td",13)(9,"button",14),y("click",function(){let u=g(n).index,p=_();return b(p.decreaseQuantity(u))}),o(10,"i",15),e(),t(11,"span",16),i(12),e(),t(13,"button",17),y("click",function(){let u=g(n).index,p=_();return b(p.increaseQuantity(u))}),o(14,"i",18),e()(),t(15,"td"),i(16),m(17,"currency"),e(),t(18,"td")(19,"button",19),y("click",function(){let u=g(n).index,p=_();return b(p.removeCart(u))}),o(20,"i",20),e()()()}if(d&2){let n=r.$implicit;a(2),M("alt",n.name),x("src",n.image_url,f),a(2),c(n.name),a(2),c(s(7,6,n.price)),a(6),c(n.quantity),a(4),c(s(17,8,n.price*n.quantity))}}var q=class d{constructor(r){this.cartService=r}cartItems=[];subtotal=0;total=0;envio=0;ngOnInit(){this.cartService.cart$.subscribe(r=>{this.cartItems=r,this.calculeSubTotal(),this.calculeTotal()})}calculeSubTotal(){this.subtotal=this.cartItems.reduce((r,n)=>r+n.price*n.quantity,0)}calculeTotal(){this.total=this.subtotal}increaseQuantity(r){this.cartItems[r].quantity++,this.calculeSubTotal(),this.calculeTotal()}decreaseQuantity(r){this.cartItems[r].quantity>1&&(this.cartItems[r].quantity--,this.calculeSubTotal(),this.calculeTotal())}removeCart(r){this.cartService.removeCart(r),this.calculeTotal()}goBack(){window.history.back()}static \u0275fac=function(n){return new(n||d)(h(k))};static \u0275cmp=C({type:d,selectors:[["app-cart-summary"]],standalone:!0,features:[P],decls:47,vars:10,consts:[[1,"container","cart-summary-container"],[1,"row","align-items-start"],[1,"col-lg-8","col-md-12","product-table-container"],[1,"table"],[4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-12","order-summary-container"],[1,"order-summary"],[1,"summary-details"],[1,"text-muted"],["href","/order-payment",1,"btn","btn-warning","w-100","mt-3"],[1,"product-column"],[1,"product-image",3,"src","alt"],[1,"product-name"],[1,"quantity-column"],[1,"quantity-btn","decrease",3,"click"],[1,"bi","bi-dash"],[1,"quantity"],[1,"quantity-btn","increase",3,"click"],[1,"bi","bi-plus"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"]],template:function(n,l){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),i(4,"Resumen de compras"),e(),t(5,"table",3)(6,"thead")(7,"tr")(8,"th"),i(9,"Productos"),e(),t(10,"th"),i(11,"Precios"),e(),t(12,"th"),i(13,"Cantidad"),e(),t(14,"th"),i(15,"Subtotal"),e(),o(16,"th"),e()(),t(17,"tbody"),S(18,T,21,10,"tr",4),e()()(),t(19,"div",5)(20,"div",6)(21,"h4"),i(22,"Mi carrito"),e(),t(23,"div",7)(24,"p"),i(25,"Subtotal: "),t(26,"span"),i(27),m(28,"currency"),e()(),t(29,"p"),i(30,"Env\xEDo gratis: "),t(31,"span"),i(32),m(33,"currency"),e()(),o(34,"hr"),t(35,"p",8),i(36,"Descuentos"),e(),o(37,"hr"),t(38,"p")(39,"strong"),i(40,"Total:"),e(),t(41,"span")(42,"strong"),i(43),m(44,"currency"),e()()()(),t(45,"a",9),i(46,"Ir a pagar"),e()()()()()),n&2&&(a(18),x("ngForOf",l.cartItems),a(9),c(s(28,4,l.subtotal)),a(5),c(s(33,6,l.envio)),a(11),c(s(44,8,l.total)))},dependencies:[w,v,E,I],styles:[".cart-summary-container[_ngcontent-%COMP%]{padding-top:45px;display:flex;justify-content:space-between;align-items:flex-start}.product-table-container[_ngcontent-%COMP%]{flex:1;margin-right:20px}.table[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:10px}.table[_ngcontent-%COMP%]   .product-column[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px}.table[_ngcontent-%COMP%]   .product-column[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:15px}.table[_ngcontent-%COMP%]   .quantity-column[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.table[_ngcontent-%COMP%]   .quantity-column[_ngcontent-%COMP%]   .quantity-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 5px;border:none}.table[_ngcontent-%COMP%]   .quantity-column[_ngcontent-%COMP%]   .quantity-btn.decrease[_ngcontent-%COMP%]{background-color:#dc3545}.table[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{font-size:.8rem;margin-left:10px}.order-summary-container[_ngcontent-%COMP%]{max-width:350px}.order-summary[_ngcontent-%COMP%]{padding:20px;border:1px solid #e9ecef;background-color:#f8f9fa;border-radius:10px;text-align:center}.order-summary[_ngcontent-%COMP%]   .summary-details[_ngcontent-%COMP%]{margin-top:15px}.order-summary[_ngcontent-%COMP%]   .summary-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;font-size:1.1rem}.order-summary[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]{width:100%;background-color:#000;color:#fff;font-size:1.2rem;border:none}.order-summary[_ngcontent-%COMP%]   .btn-warning[_ngcontent-%COMP%]:hover{background-color:#b10a1a}"]})};export{q as CartSummaryComponent};
