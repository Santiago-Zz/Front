import{a as n,b as u}from"./chunk-O37MA7DD.js";import{C as a,V as i,_ as p,o}from"./chunk-PUIGTLMT.js";var s=class c{constructor(r){this.http=r}apiUrl="http://localhost:3000/product/";getProducts(){let r=new n({Authorization:`Bearer ${localStorage.getItem("authToken")||""}`,"Content-Type":"application/json"});return this.http.get(this.apiUrl,{headers:r}).pipe(a(t=>(console.error("Error al obtener los productos:",t),o(()=>new Error("Error al obtener los productos")))))}getProductById(r){console.log("ID recibido en el servicio:",r);let t=`${this.apiUrl}${r}`;return this.http.get(t).pipe(a(e=>(console.error(`Error al obtener el producto ${r}:`,e),o(()=>new Error(`Error al obtener el producto con ID ${r}`)))))}createProduct(r){let t=new n({Authorization:`Bearer ${localStorage.getItem("authToken")||""}`});return this.http.post(this.apiUrl,r,{headers:t}).pipe(a(e=>(console.error("Error al crear un producto",e),o(()=>new Error("Error al crear el producto")))))}updateProduct(r,t){let e=`${this.apiUrl}${r}`,l=new n({Authorization:`Bearer ${localStorage.getItem("authToken")||""}`});return this.http.put(e,t,{headers:l}).pipe(a(h=>(console.error(`Error al actualizar el producto con ${r}:`,h),o(()=>new Error(`Error al actualizar el producto con ID ${r}`)))))}deleteProduct(r){let t=new n({Authorization:`Bearer ${localStorage.getItem("authToken")||""}`,"Content-Type":"application/json"});return this.http.delete(`${this.apiUrl}${r}`,{headers:t}).pipe(a(e=>(console.error(`Error al eliminar el producto con ${r}:`,e),o(()=>new Error(`Error al eliminar el producto con ID ${r}`)))))}getProductsByCategory(r){let t=new n({Authorization:`Bearer ${localStorage.getItem("authToken")||""}`,"Content-Type":"application/json"}),e=`${this.apiUrl}category/${r}`;return console.log("URL solicitada:",e),this.http.get(e,{headers:t}).pipe(a(l=>(console.error(`Error al obtener productos de la categor\xEDa ${r}:`,l),o(()=>new Error("Error al obtener productos por categor\xEDa")))))}static \u0275fac=function(t){return new(t||c)(p(u))};static \u0275prov=i({token:c,factory:c.\u0275fac,providedIn:"root"})};export{s as a};
